#:kivy 2.2.0
#: import NoTransition kivy.uix.screenmanager.NoTransition
#: import Window kivy.core.window.Window



Manager:
    LoadScreen:
    HomeScreen:
    ArmyScreen:
    SettingsScreen:
    StatsScreen:
    StoreScreen:
    World1Screen:
    World2Screen:
    ResetSureScreen:
    TroopsScreen:
    EnemiesScreen:
    UpgradeScreen:
    BasePackScreen:
    DeckScreen:
    GameScreen:
    LoseScreen:
    WinScreen:
    

<LoadScreen>:
    name: "loadscrn"
    on_leave: root.set()
    BoxLayout:
        orientation: 'vertical'
        ImageButton:
            source: "Images/LoadScene.png"
            fit_mode: "fill"
            on_release: 
                root.manager.transition = NoTransition()
                app.root.current = "homescrn"
                
<HomeScreen>:
    name: "homescrn"
    on_enter: root.playMusic()
    on_enter: root.loadCurrency()
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill" 
        Image: 
            source: "Images/Gold.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.70, "top":.96}
        Image: 
            source: "Images/Ruby.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.52, "top":.97}
        Image: 
            source: "Images/Emerald.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.34, "top":.97}
        Image: 
            source: "Images/Sapphire.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.16, "top":.97}
        Label:
            id: coins
            pos_hint: {"x":.89, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "00000"
        Label:
            id: rubies
            pos_hint: {"x":.66, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "000"
        Label:
            id: emeralds
            pos_hint: {"x":.49, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "000"
        Label:
            id: sapphires
            pos_hint: {"x":.305, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "000"
        Carousel:
            direction:"right"
            size_hint:0.86  ,0.86
            pos_hint: {"x":0.07, "top":0.85}
            ImageButton:
                id: world1
                source: "Images/World1.png"
                fit_mode: "fill"
                on_release: 
                    app.root.current = "world1scrn"
            ImageButton:
                id: world2
                source: "Images/World2.png"
                fit_mode: "fill"
                on_release: 
                    app.root.current = "world2scrn"
        ImageButton:
            id: tostore
            source: "Images/StoreButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.02, "top":0.35}
            on_release: 
                app.root.current = "storescrn"
        ImageButton:
            id: tosettings
            source: "Images/SettingsButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.02, "top":0.6}
            on_release: 
                app.root.current = "settingsscrn"
        ImageButton:
            id: toarmy
            source: "Images/ArmyButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.80, "top":0.35}
            on_release: 
                app.root.current = "armyscrn"
        ImageButton:
            id: tostats
            source: "Images/StatsButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.80, "top":0.6}
            on_release: 
                app.root.current = "statsscrn"
                
<ArmyScreen>:  
    name: "armyscrn"
    on_enter: root.loadCurrency()
    on_enter: root.loadCards()
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill"
        Image: 
            source: "Images/Gold.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.70, "top":.96}
        Image: 
            source: "Images/Ruby.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.52, "top":.97}
        Image: 
            source: "Images/Emerald.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.34, "top":.97}
        Image: 
            source: "Images/Sapphire.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.16, "top":.97}
        Label:
            id: coins
            pos_hint: {"x":.89, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "00000"
        Label:
            id: rubies
            pos_hint: {"x":.66, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "000"
        Label:
            id: emeralds
            pos_hint: {"x":.49, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "000"
        Label:
            id: sapphires
            pos_hint: {"x":.305, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "000"
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "homescrn"
        BoxLayout:
            size_hint:1,0.7
            ScrollView:
                StackLayout:
                    size_hint: 1,3
                    padding: 10
                    spacing: 10
                    ImageButton:
                        id: peasant
                        size_hint: 0.18,.23
                        source: "Images/PeasantCard.png"
                        fit_mode: "fill"
                        on_release:
                            root.peasant()
                            app.root.current = 'upgradescrn'
                    ImageButton:
                        id: miner
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.miner()
                    ImageButton:
                        id: swordsman
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.swordsman()
                    ImageButton:
                        id: archer
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.archer()
                    ImageButton:
                        id: pikeman
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.pikeman()
                    ImageButton:
                        id: gnome
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.gnome()
                    ImageButton:
                        id: mage
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.mage()
                    ImageButton:
                        id: bard
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.bard()
                    ImageButton:
                        id: gnomeminer
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.gnomeminer()
                    ImageButton:
                        id: priest
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.priest()
                    ImageButton:
                        id: crusader
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.crusader()
                    
                
<SettingsScreen>:
    name: "settingsscrn"
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill"
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "homescrn"
        ImageButton:
            source: "Images/MusicButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.80, "top":1}
            on_release: 
                root.musictoggle()
        ImageButton:
            source: "Images/ResetButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.40, "top":1}
            on_release: 
                app.root.current = "resetsurescrn"
                

<StatsScreen>:
    name: "statsscrn"
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill"
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "homescrn"
        ImageButton:
            source: "Images/EnemiesButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.80, "top":1}
            on_release: 
                app.root.current = "enemiesscrn"
            
        ImageButton:
            source: "Images/TroopsButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.40, "top":1}
            on_release: 
                app.root.current = "troopsscrn"
            
<StoreScreen>:     
    name: "storescrn"
    on_enter: root.loadCurrency()
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill" 
        Image: 
            source: "Images/Gold.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.70, "top":.96}
        Image: 
            source: "Images/Ruby.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.52, "top":.97}
        Image: 
            source: "Images/Emerald.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.34, "top":.97}
        Image: 
            source: "Images/Sapphire.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.16, "top":.97}
        Label:
            id: coins
            pos_hint: {"x":.89, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "00000"
        Label:
            id: rubies
            pos_hint: {"x":.66, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "000"
        Label:
            id: emeralds
            pos_hint: {"x":.49, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "000"
        Label:
            id: sapphires
            pos_hint: {"x":.305, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "000"
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "homescrn"
        BoxLayout:
            size_hint:1,0.7
            ScrollView:
                StackLayout:
                    size_hint: 1,None
                    padding: 20
                    spacing: 20
                    ImageButton:
                        id: peasant
                        size_hint: 0.18,7
                        source: "Images/basepack.png"
                        fit_mode: "fill"
                        on_release:
                            root.basePack()
                  

<World1Screen>:
    name: "world1scrn"
    on_enter: 
        root.playMusic()
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill"
        Image:
            id: world1
            size_hint: 0.4, 0.4
            pos_hint: {"x":0.3, "top":1.05}
            source: "Images/World1.png"
            fit_mode: "fill"
            

        Carousel:
            direction:"right"
            size_hint:0.86  ,0.86
            pos_hint: {"x":0.07, "top":0.85}
            ImageButton:
                id: lvl1
                source: "Images/1-1.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel1()
            ImageButton:
                id: lvl2
                source: "Images/1-2.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel2()
            ImageButton:
                id: lvl3
                source: "Images/1-3.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel3()
            ImageButton:
                id: lvl4
                source: "Images/1-4.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel4()
            ImageButton:
                id: lvl5
                source: "Images/1-5.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel5()
            ImageButton:
                id: lvl6
                source: "Images/1-6.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel6()
            ImageButton:
                id: lvl7
                source: "Images/1-7.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel7()
            ImageButton:
                id: lvl8
                source: "Images/1-8.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel8()
            ImageButton:
                id: lvl9
                source: "Images/1-9.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel9()
            ImageButton:
                id: lvl10
                source: "Images/1-10.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel10()
            ImageButton:
                id: lvl11
                source: "Images/1-11.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel11()
            ImageButton:
                id: lvl12
                source: "Images/1-12.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel12()
            ImageButton:
                id: lvl13
                source: "Images/1-13.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel13()
            ImageButton:
                id: lvl14
                source: "Images/1-14.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel14()
            ImageButton:
                id: lvl15
                source: "Images/1-15.png"
                fit_mode: "fill"
                on_release: 
                    root.loadLevel15()
                        
                        
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "homescrn"

        ImageButton:
            source: "Images/EndlessButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.80, "top":1}
            on_release: 
                root.endless()
                    

<World2Screen>
    name: "world2scrn"
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill"
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "homescrn"

<ResetSureScreen>:
    name: "resetsurescrn"
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill"
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "homescrn"
        ImageButton:
            source: "Images/ResetButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.40, "top":.3}
            on_release: 
                root.max()
        ImageButton:
            source: "Images/ResetButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.40, "top":1}
            on_release: 
                root.reset()
        Label:
            id: sure
            pos_hint: {"x":.50, "top":.50}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "Are You Sure?"
            
<TroopsScreen>:
    name: "troopsscrn"
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill"
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "statsscrn"

<EnemiesScreen>:
    name: 'enemiesscrn'
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill"
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "statsscrn"

<UpgradeScreen>:

    name: 'upgradescrn'
    on_enter: 
        root.select()
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill"
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "armyscrn"
        Image: 
            id: card
            source: "Images/PeasantCard.png"
            fit_mode: "fill"
            size_hint: 0.18  ,0.45
            pos_hint: {"x":0.01, "top":.7}
        Label:
            pos_hint: {"x":0.1, "top":.27}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(40)
            text: "CARDS:"
        Label:
            id: cards
            pos_hint: {"x":.1, "top":.18}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "0"
        Label:
            pos_hint: {"x":.35, "top":.95}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "HEALTH:"
        Label:
            id: health
            pos_hint: {"x":.55, "top":.95}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "0"
        Image:
            id: healthbar
            source: "Images/lvl1health.png"
            fit_mode: "fill"
            size_hint:0.25 ,0.14
            pos_hint: {"x":0.62, "top":.95}
        ImageButton:
            source: "Images/levelup.png"
            fit_mode: "fill"
            size_hint: 0.094375, 0.17
            pos_hint: {"x":0.85, "top":.94}
            on_release: 
                root.upgradeHealth()   
                root.select()
        
        Label:
            pos_hint: {"x":.35, "top":.8}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "DAMAGE:"
        Label:
            id: damage
            pos_hint: {"x":.57, "top":.8}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "0"
        Image:
            id: damagebar
            source: "Images/lvl1damage.png"
            fit_mode: "fill"
            size_hint:0.25 ,0.14
            pos_hint: {"x":0.62, "top":.8}
        ImageButton:
            source: "Images/levelup.png"
            fit_mode: "fill"
            size_hint: 0.094375, 0.17
            pos_hint: {"x":0.85, "top":.79}
            on_release: 
                root.upgradeDamage()   
                root.select()
        
        Label:
            pos_hint: {"x":.35, "top":.65}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "DEFENSE:"
        Label:
            id: defense
            pos_hint: {"x":.55, "top":.65}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "0"
        Image:
            id: defensebar
            source: "Images/lvl1defense.png"
            fit_mode: "fill"
            size_hint:0.25 ,0.14
            pos_hint: {"x":0.62, "top":.65}
        ImageButton:
            source: "Images/levelup.png"
            fit_mode: "fill"
            size_hint: 0.094375, 0.17
            pos_hint: {"x":0.845, "top":.64}
            on_release: 
                root.upgradeDefense()   
                root.select()
        Label:
            pos_hint: {"x":.35, "top":.5}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "RANGE:"
        Label:
            id: range
            pos_hint: {"x":.55, "top":.5}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "0"
        Image:
            id: rangebar
            source: "Images/lvl1range.png"
            fit_mode: "fill"
            size_hint:0.25 ,0.14
            pos_hint: {"x":0.62, "top":.5}
        ImageButton:
            source: "Images/levelup.png"
            fit_mode: "fill"
            size_hint: 0.094375, 0.17
            pos_hint: {"x":0.845, "top":.49}
            on_release: 
                root.upgradeRange()   
                root.select()

        Label:
            pos_hint: {"x":.35, "top":.35}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "SPECIAL:"
        Label:
            id: special
            pos_hint: {"x":.55, "top":.35}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "0"
        Image:
            id: specialbar
            source: "Images/lvl1special.png"
            fit_mode: "fill"
            size_hint:0.25 ,0.14
            pos_hint: {"x":0.62, "top":.35}
        ImageButton:
            source: "Images/levelup.png"
            fit_mode: "fill"
            size_hint: 0.094375, 0.17
            pos_hint: {"x":0.845, "top":.34}
            on_release: 
                root.upgradeSpecial()   
                root.select()

<BasePackScreen>:

    name: 'basepackscrn'
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill" 
        BoxLayout:
            pos_hint: {"x":0.3, "top":.7}
            size_hint:1,0.7
            ScrollView:
                StackLayout:
                    size_hint: 1,None
                    padding: 10
                    spacing: 10
                    ImageButton:
                        id: card1
                        size_hint: 0.18,6
                        source: "Images/cardback.png"
                        fit_mode: "fill"
                        on_release:
                            root.flipCard()
                    ImageButton:
                        id: card2
                        size_hint: 0.18,6
                        source: "Images/cardback.png"
                        fit_mode: "fill"
                        on_release:
                            root.flipCard2()
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                root.reset()
                app.root.current = "storescrn"

<DeckScreen>:
    name: 'deckscrn'
    on_enter: root.clearCards()
    on_enter: root.loadCards()
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill" 
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                root.clearCards()
                app.root.current = "homescrn"
        ImageButton:
            source: "Images/StartButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.8, "top":1}
            on_release: 
                root.start()
        Label:
            text: 'Choose 8'
            pos_hint: {"x":.5, "top":.8}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(30)
        BoxLayout:
            size_hint:1,0.7
            ScrollView:
                StackLayout:
                    id: pick
                    size_hint: 1,3
                    padding: 10
                    spacing: 10
                    ImageButton:
                        id: peasant
                        size_hint: 0.18,.23
                        source: "Images/PeasantCard.png"
                        fit_mode: "fill"
                        on_release:
                            root.addPeasant()
                    ImageButton:
                        id: miner
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.addMiner()
                    ImageButton:
                        id: swordsman
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.addSwordsman()
                    ImageButton:
                        id: archer
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.addArcher()
                    ImageButton:
                        id: pikeman
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.addPikeman()
                    ImageButton:
                        id: gnome
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.addGnome()
                    ImageButton:
                        id: mage
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.addMage()
                    ImageButton:
                        id: bard
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.addBard()
                    ImageButton:
                        id: gnomeminer
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.addGnomeminer()
                    ImageButton:
                        id: priest
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.addPriest()
                    ImageButton:
                        id: crusader
                        size_hint: 0.18,.23
                        source: "Images/emptycard.png"
                        fit_mode: "fill"
                        on_release:
                            root.addCrusader()
                    
        BoxLayout:
            size_hint:0.6,0.3
            pos_hint: {"x":0.2, "top":1.26}
            StackLayout:
                id: chosen
                size_hint: 1,None
                            
<GameScreen>:

    name: 'gamescrn'
    on_enter:
        root.iron()
        root.updateIron()
        root.summonBadGuys()
        root.action()
    FloatLayout:
        Image: 
            id: background
            source: "Images/background1.png"
            fit_mode: "fill" 
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                root.clearCards()
                app.root.current = "homescrn"
        Image: 
            source: "Images/Gold.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.70, "top":.96}
        Label:
            id: endless
            pos_hint: {"x":.1, "top":.7}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "1"
        Label:
            id: coins
            pos_hint: {"x":.89, "top":.99}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "00000"
        Image: 
            source: "Images/iron.png"
            size_hint: 0.12, 0.12
            pos_hint: {"x":.70, "top":.83}
        Label:
            id:ironcount
            pos_hint: {"x":.88, "top":.85}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "0"
        BoxLayout:
            size_hint:1,0.7
            pos_hint: {"x":0.20, "top":1.6}
            StackLayout:
                id: pick
                size_hint: 1,None
                padding: 10
                spacing: 10
                ImageButton:
                    id: a
                    size_hint: 0.12,4
                    source: "Images/emptyCard.png"
                    fit_mode: "fill"
                    on_press:
                        root.select1()
                        root.black1() 
                    on_release:
                        root.updateIron()
                        root.drawCard1()
                        root.updateIron()
                ImageButton:
                    id: b
                    size_hint: 0.12,4
                    source: "Images/emptycard.png"
                    fit_mode: "fill"
                    on_press:
                        root.select2()
                        root.black2() 
                    on_release:
                        root.updateIron()
                        root.drawCard2()
                        root.updateIron()
                ImageButton:
                    id: c
                    size_hint: 0.12,4
                    source: "Images/emptycard.png"
                    fit_mode: "fill"
                    on_press:
                        root.select3()
                        root.black3() 
                    on_release:
                        root.updateIron()
                        root.drawCard3()
                        root.updateIron()
        BoxLayout:
            pos_hint: {"x":0, "top":.5}
            size_hint:1,0.5
            ScrollView:
                FloatLayout:
                    id: battle
                    size_hint: 3, 1
                    FloatLayout:
                        id: troop
                        size_hint: 3, 1
                    ImageButton:
                        id: top
                        size_hint: 1,0.3
                        pos_hint: {"x":0, "top":.95}
                        source: "Images/row1.png"
                        fit_mode: "fill"
                        on_release:
                            root.updateIron()
                            root.rowTop()
                    ImageButton:
                        id: middle
                        size_hint: 1,0.3
                        pos_hint: {"x":0, "top":.65}
                        source: "Images/row1.png"
                        fit_mode: "fill"
                        on_release:
                            root.updateIron()
                            root.rowMiddle()
                    ImageButton:
                        id: bottom
                        size_hint: 1,0.3
                        pos_hint: {"x":0, "top":.35}
                        source: "Images/row1.png"
                        fit_mode: "fill"
                        on_release:
                            root.updateIron()
                            root.rowBottom()
                    Image:
                        id: castle
                        size_hint: 0.015,1
                        pos_hint: {"x":0, "top":1}
                        source: "Images/goodcastle.png"
                        fit_mode: "fill"

<LoseScreen>:
    name: 'losescrn'
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill" 
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "homescrn"
        Label:
            id: lose
            pos_hint: {"x":.5, "top":.90}
            size_hint: 0, .15
            font_name: "Fonts/cpu.ttf"
            font_size: sp(52)
            text: "LOSE"
<WinScreen>:
    name: 'winscrn'
    on_enter:
        root.set()
    FloatLayout:
        Image: 
            source: "Images/HomeScene1.png"
            fit_mode: "fill" 
        ImageButton:
            source: "Images/BackButton.png"
            fit_mode: "fill"
            size_hint:0.20  ,0.30
            pos_hint: {"x":0.00, "top":1}
            on_release: 
                app.root.current = "homescrn"
        BoxLayout:
            pos_hint: {"x":0.4, "top":.7}
            size_hint:1,0.7
            ScrollView:
                StackLayout:
                    size_hint: 1,None
                    padding: 10
                    spacing: 10
                    ImageButton:
                        id: card1
                        size_hint: 0.18,6
                        source: "Images/cardback.png"
                        fit_mode: "fill"
                        on_release:
                            root.flipCard()
        
